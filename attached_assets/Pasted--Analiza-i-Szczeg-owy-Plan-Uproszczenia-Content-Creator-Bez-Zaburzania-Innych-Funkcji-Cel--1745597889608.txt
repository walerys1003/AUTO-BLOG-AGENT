ğŸ” Analiza i SzczegÃ³Å‚owy Plan Uproszczenia Content Creator â€“ Bez Zaburzania Innych Funkcji:

ğŸ¯ Cel operacyjny:
Uproszczenie istniejÄ…cego systemu Content Creator, zachowujÄ…c integralnoÅ›Ä‡ i kompatybilnoÅ›Ä‡ z resztÄ… systemu.

Zminimalizowanie logiki wewnÄ™trznej Content Creator bez wpÅ‚ywu na inne moduÅ‚y, takie jak:

Blogi, Baza tematÃ³w (ArticleTopic), Automatyzacje (AutomationRule).

Skupienie siÄ™ na uproszczeniu przepÅ‚ywu: Temat â†’ Generacja â†’ Edycja â†’ Publikacja.

ğŸ§  Kluczowe Obszary Do Uproszczenia (w kontekÅ›cie kodu):
1ï¸âƒ£ Widoki / Routing:
Obecnie:

Kilka widokÃ³w: /content-generator, /standard-editor, /content-creator/edit/..., /preview/..., automatyzacje.

ZÅ‚oÅ¼one warunki wyboru bloga, statusu, dynamiczne generowanie.

Do zmiany:

ZlikwidowaÄ‡:

Widok /content-generator â†’ niepotrzebny tryb.

Widok /standard-editor â†’ zastÄ…piÄ‡ jednym edytorem.

CaÅ‚Ä… obsÅ‚ugÄ™ automatyki w Content Creator (pozostawiÄ‡ jÄ… osobno, jeÅ›li konieczna).

ZachowaÄ‡:

Jeden uproszczony widok: /content-creator

PrzenieÅ›Ä‡ caÅ‚Ä… funkcjÄ™ edycji i generacji do jednej strony.

2ï¸âƒ£ Model danych â€“ ContentLog & ArticleTopic:
Obecnie:

ContentLog z error_message jako magazyn JSON.

PowiÄ…zania z ArticleTopic (status, keywords, score, blog_id).

Drafty, statusy, wersjonowanie.

Do zmiany:

ContentLog:

ZastÄ…piÄ‡ nowym modelem Content:

python
Kopiuj
Edytuj
class Content(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    title = db.Column(db.String(255))
    topic = db.Column(db.String(255))
    body = db.Column(db.Text)
    status = db.Column(db.String(50))  # draft / published
    created_at = db.Column(db.DateTime, default=datetime.utcnow)
PrzenieÅ›Ä‡ dane z error_message do jasnych kolumn: title, body.

ArticleTopic:

UproÅ›ciÄ‡: pobieraÄ‡ tylko tytuÅ‚ i score â€“ bez powiÄ…zanej logiki.

ZachowaÄ‡ status = 'approved' jako filtr.

3ï¸âƒ£ Funkcja Generowania:
Obecnie:

Dynamiczna generacja paragrafÃ³w z obsÅ‚ugÄ… statusÃ³w, stylÃ³w, liczby akapitÃ³w.

PodziaÅ‚ na dynamiczne i standardowe tryby.

Do zmiany:

UsunÄ…Ä‡ dynamiczne generowanie akapitÃ³w.

Jedno proste zapytanie do Claude Sonnet API:

python
Kopiuj
Edytuj
POST /generate-content
Input: { "topic": "...", "style": "...", "paragraphs": 5 }
Output: { "content": "..." }
StaÅ‚y prompt:

"Wygeneruj artykuÅ‚ o temacie: {topic}, styl: {style}, dÅ‚ugoÅ›Ä‡: {paragraphs} akapitÃ³w."

ZlikwidowaÄ‡: obsÅ‚ugÄ™ regeneracji, indeksowania akapitÃ³w, dynamicznych flag.

4ï¸âƒ£ Edycja i Publikacja:
Obecnie:

Wiele etapÃ³w zapisÃ³w, drafty, JSON, przekazywanie statusÃ³w.

ObsÅ‚uga meta description, excerpt, featured image.

Do zmiany:

Prosty formularz edycji:

TytuÅ‚.

TreÅ›Ä‡ HTML.

Przycisk Zapisz â†’ status = "draft".

Przycisk Publikuj â†’ status = "published".

UsunÄ…Ä‡:

Pola: meta description, excerpt, featured image.

FunkcjÄ™ automatycznego zapisu.

ğŸ› ï¸ SzczegÃ³Å‚owy Plan Zmian w Kodzie:
ğŸ”¹ 1. Pliki do uproszczenia i scalania:
Scal pliki:

standard_editor.html + generator.html â†’ nowy content_creator.html.

ğŸ”¹ 2. Routing (Blueprint):
UsuÅ„:

/standard-editor

/content-generator

/content-creator/edit/...

Wszystkie automation routes.

Dodaj i uproÅ›Ä‡:

python
Kopiuj
Edytuj
@content_creator_bp.route('/content-creator', methods=['GET', 'POST'])
def content_creator():
    if request.method == 'POST':
        title = request.form['title']
        topic = request.form['topic']
        content = generate_content_from_topic(topic)
        
        new_content = Content(title=title, topic=topic, body=content, status='draft')
        db.session.add(new_content)
        db.session.commit()
        
        flash('TreÅ›Ä‡ wygenerowana i zapisana jako szkic.', 'success')
        return redirect(url_for('content_creator.content_creator'))
    
    return render_template('content/content_creator.html', title="Content Creator")
ğŸ”¹ 3. Funkcja generowania treÅ›ci:
Uproszczona funkcja:

python
Kopiuj
Edytuj
def generate_content_from_topic(topic):
    prompt = f"Wygeneruj artykuÅ‚ o temacie: {topic}, styl: informacyjny, dÅ‚ugoÅ›Ä‡: 5 akapitÃ³w."
    response = openrouter_api.generate(prompt=prompt)
    return response['content']
ğŸ”¹ 4. Edycja i publikacja:
Dodaj:

python
Kopiuj
Edytuj
@content_creator_bp.route('/publish-content/<int:content_id>', methods=['POST'])
def publish_content(content_id):
    content = Content.query.get_or_404(content_id)
    content.status = 'published'
    db.session.commit()
    flash('TreÅ›Ä‡ zostaÅ‚a opublikowana.', 'success')
    return redirect(url_for('content_creator.content_creator'))
ğŸ“ˆ BezpieczeÅ„stwo i IntegralnoÅ›Ä‡ Systemu:
Nie ingeruj w tabele i funkcje zwiÄ…zane z:

Blog, AutomationRule.

One pozostajÄ… niezmienione.

ArticleTopic:

Tylko odczyt â€“ status = 'approved', score.

Nie aktualizuj statusÃ³w tematÃ³w.

âœ… Podsumowanie:
Skasuj:

Dynamiczne generowanie.

Wiele widokÃ³w i statusÃ³w.

ZÅ‚oÅ¼one API (v2, dynamiczne endpointy, automation).

Zostaw:

Proste generowanie i zapis w nowej tabeli Content.

Jeden widok do wszystkiego.

Minimalne poÅ‚Ä…czenia z istniejÄ…cÄ… bazÄ… (tylko pobieranie tematÃ³w).

Zysk:

StabilnoÅ›Ä‡.

PrÄ™dkoÅ›Ä‡ dziaÅ‚ania.

Brak bÅ‚Ä™dÃ³w wynikajÄ…cych z nadmiarowej logiki.