ğŸ“œ Rozszerzony Skrypt Python: Zapis WynikÃ³w + ObsÅ‚uga WiÄ™kszej Liczby TrendÃ³w
ğŸ¯ Nowe FunkcjonalnoÅ›ci:
ObsÅ‚uga wiÄ™kszej liczby trendÃ³w â€“ do 10 z Google Trends.

Zapis wynikÃ³w:

Do pliku CSV.

KaÅ¼de uruchomienie zapisuje nowe tematy z datÄ….

ğŸ› ï¸ Dodatkowe Biblioteki:
bash
Kopiuj
Edytuj
pip install pandas
ğŸ“‚ Rozszerzony Skrypt Python:
python
Kopiuj
Edytuj
from pytrends.request import TrendReq
import requests
import schedule
import time
import pandas as pd
from datetime import datetime

# Konfiguracja pytrends i API
pytrends = TrendReq(hl='pl-PL', tz=360)
SERP_API_KEY = 'YOUR_SERPAPI_KEY'

# Kategorie blogowe
categories = ['medycyna', 'transport', 'IT']

# IloÅ›Ä‡ trendÃ³w do obsÅ‚ugi
NUM_TRENDS = 10

# ÅšcieÅ¼ka do pliku CSV
CSV_FILE = 'tematy_blogowe.csv'

def fetch_google_trends():
    pytrends.build_payload(kw_list=['news'], timeframe='now 1-d')
    trending_searches = pytrends.trending_searches(pn='poland')
    top_trends = trending_searches[0:NUM_TRENDS].tolist()
    return top_trends

def fetch_serpapi_questions(keyword):
    url = 'https://serpapi.com/search.json'
    params = {
        'q': keyword,
        'location': 'Poland',
        'hl': 'pl',
        'gl': 'pl',
        'api_key': SERP_API_KEY
    }
    response = requests.get(url, params=params)
    data = response.json()
    questions = []
    if 'related_questions' in data:
        questions = [q['question'] for q in data['related_questions']]
    return questions

def generate_titles(keywords, category):
    titles = []
    for kw in keywords:
        titles.append(f"Najlepsze porady dotyczÄ…ce {kw} w kategorii {category}")
    return titles

def prioritize_suggestions(titles):
    return titles[:5]  # WiÄ™cej tematÃ³w dziÄ™ki wiÄ™kszej iloÅ›ci trendÃ³w

def save_to_csv(data):
    df = pd.DataFrame(data)
    try:
        existing_df = pd.read_csv(CSV_FILE)
        df = pd.concat([existing_df, df], ignore_index=True)
    except FileNotFoundError:
        pass  # Plik jeszcze nie istnieje
    df.to_csv(CSV_FILE, index=False)
    print(f"ğŸ’¾ Wyniki zapisane do {CSV_FILE}")

def daily_task():
    print("ğŸ” Rozpoczynam codziennÄ… analizÄ™ SEO...")
    trends = fetch_google_trends()
    print(f"ğŸ“Š Dzisiejsze trendy Google: {trends}")

    all_data = []

    for category in categories:
        combined_keywords = []
        for trend in trends:
            combined_keywords.append(trend)
            questions = fetch_serpapi_questions(trend)
            combined_keywords.extend(questions[:2])  # Ograniczamy SerpApi zapytania

        titles = generate_titles(combined_keywords, category)
        prioritized = prioritize_suggestions(titles)

        for title in prioritized:
            all_data.append({
                'Data': datetime.now().strftime('%Y-%m-%d'),
                'Kategoria': category,
                'TytuÅ‚': title
            })

        print(f"\nğŸ“‘ Tematy dla kategorii {category}:")
        for title in prioritized:
            print(f"- {title}")

    save_to_csv(all_data)

# Harmonogram codzienny o 5:00
schedule.every().day.at("05:00").do(daily_task)

print("â³ Agent ZYGA dziaÅ‚a... Czeka na uruchomienie.")
while True:
    schedule.run_pending()
    time.sleep(60)
ğŸ“Š Efekt:
ObsÅ‚uga wiÄ™kszej liczby trendÃ³w â€“ teraz do 10.

5 tematÃ³w dla kaÅ¼dej kategorii dziennie.

Wyniki trwale zapisane do pliku tematy_blogowe.csv, z datÄ… i kategoriÄ….

