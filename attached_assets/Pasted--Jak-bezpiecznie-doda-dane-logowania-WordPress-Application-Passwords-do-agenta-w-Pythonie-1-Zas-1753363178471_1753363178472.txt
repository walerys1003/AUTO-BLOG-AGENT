‚úÖ Jak bezpiecznie dodaƒá dane logowania WordPress (Application Passwords) do agenta w Pythonie
1. Zaszyfruj dane w zmiennych ≈õrodowiskowych (Replit)
W Replit wejd≈∫ w zak≈Çadkƒô Secrets (Environment variables) i dodaj:

Key	Value
HOMOSONLY_USERNAME	ValerioRomano
HOMOSONLY_PASSWORD	DmDc pWRg upV6 vjMM...
MAMATESTUJE_USERNAME	TomaszKotlinski
MAMATESTUJE_PASSWORD	xylc IFTY xwwr QTQN...
ZNANEKOSMETYKI_USERNAME	TomaszKotlinski
ZNANEKOSMETYKI_PASSWORD	HQFQ zPo1 E4pj wCp4...

2. Kod Pythona ‚Äì przyk≈Çad u≈ºycia Basic Auth z Application Passwords
python
Kopiuj
Edytuj
import os
import requests
from requests.auth import HTTPBasicAuth

# Dane z Secrets
username = os.getenv("HOMOSONLY_USERNAME")
password = os.getenv("HOMOSONLY_PASSWORD")

def publish_post_to_wordpress(site_url, title, content, excerpt):
    post_url = f"{site_url}/wp-json/wp/v2/posts"
    headers = {"Content-Type": "application/json"}
    post_data = {
        "title": title,
        "content": content,
        "excerpt": excerpt,
        "status": "publish"
    }

    auth = HTTPBasicAuth(username, password)
    response = requests.post(post_url, json=post_data, headers=headers, auth=auth)

    if response.status_code == 201:
        print(f"‚úÖ Artyku≈Ç opublikowany na {site_url}")
        return response.json()['id']
    else:
        print(f"‚ùå B≈ÇƒÖd publikacji na {site_url}: {response.text}")
        return None
3. Dodaj automatyczny wyb√≥r bloga i danych logowania
python
Kopiuj
Edytuj
def get_credentials_for(site):
    if site == "homosonly":
        return (
            os.getenv("HOMOSONLY_USERNAME"),
            os.getenv("HOMOSONLY_PASSWORD"),
            "https://homosonly.pl"
        )
    elif site == "mamatestuje":
        return (
            os.getenv("MAMATESTUJE_USERNAME"),
            os.getenv("MAMATESTUJE_PASSWORD"),
            "https://mamatestuje.com"
        )
    elif site == "zkanekosmetyki":
        return (
            os.getenv("ZNANEKOSMETYKI_USERNAME"),
            os.getenv("ZNANEKOSMETYKI_PASSWORD"),
            "https://znanekosmetyki.pl"
        )
    else:
        raise ValueError("Nieznana strona docelowa")
‚úÖ Teraz agent dzia≈Ça tak:
üîÅ Co godzinƒô wybiera temat,

‚úçÔ∏è Generuje artyku≈Ç i obrazek,

üîê Loguje siƒô na odpowiedniego WordPressa z Application Passwords (bezpiecznie),

üì§ Publikuje przez POST /wp-json/wp/v2/posts,

üñº Dodaje featured image (je≈õli jest),

üóÇ Nadaje kategorie i tagi.